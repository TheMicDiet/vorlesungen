\chapter{Internet of Everything}

Zusammenfassung der Vorlesung "`Internet of Everything"' aus dem Wintersemester 2015.\footnote{\url{http://telematics.tm.kit.edu/ws201617_IoE.php}}

\section{Einführung}
\begin{itemize}
	\item Zielvorstellung: Erhöhung der Lebensqualität in einer zunehmend Technik geprägten und vernetzten Umgebung
	\item Allerdings vebunden mit allgegenwärtigem Sammeln und Auswerten von Daten, meist beim Hersteller, ohne Kontrolle des Eigentümers
	\item Alltagsbeispiele: Die intelligente Toilette; Lifelogging-Armband; internetfähige Wetterstation (die eine öffentliche Wetterkarte bereitstellt)
	\item Sensor/Aktor, Anwendungsbeispiel Gewächshaus: Sensoren erfassen Umweltdate, Aktoren setzen Regeln zur Kontrolle um (Wasserzufuhr, Schatten, etc.)
	\item \textbf{Historische Beispiele}
	\begin{itemize}
		\item Great Duck Island (2002): Erforschung des Mikroklimas der unterirdischen Nestern von Sturmschwalben ohne die Tiere zu stören ("`non-intrusive"' und "`non-disruptive"'). Seonsorknoten in den Höhlen der Nestern sowie Basisstation mit direktem Satellitenuplink
		\item ZebraNet (2003): Langfristige Erforschung des Migrationsverhaltens von Zebras durch kontinuierliche Lokalisation sowie Erfassung der biometrischen Daten. Selbstorganisation der Knoten durch großes zu überwachendes Gebiet notwendig (Verbindung Zebra \(\rightarrow\) Zebra günstig, zu einer Basisstation allerdings teuer)
	\end{itemize}
	\item Besonderheiten: Dezentral, selbstorganisierend, limitierte Ressourcen, unzuverlässiger Kommunikationskanal, unsicher (bzgl. IT-Sicherheit)
\end{itemize}



\section{Geräteklassen und Anwendungen}

\subsection{Einführung}
\begin{itemize}
	\item Klassifizierung von Geräten. Beispielsweise nach Anwendungsbreich, Leistungsfähigkeit, Energiebedarf, Lebensdauer, Kosten, Größe/Gewicht, etc.
	\item Auswahl von Geräteklasse und hardwarekomponenten von konkreter Anwendungsanforderung abhängig
\end{itemize}


\subsection{Klassifikationskriterien}
\begin{itemize}
	\item Energiebedarf. Grundlegende Problematiken bei Energiebschränkung: bereitstellung durch Batterien oder Kondensatoren, alternativ Umwandlung alternativer Enegieformen aus der Umgebung (\textit{Energie Harvesting})
	\item Deployment-Model: Klassifikation anhand Aufteilung und Ausbringungsort der Komponenten. Logisch-funtionale Aufteilung mittels Systemmodell/Schnittstellen/HW-Ressourcen/Dienste
	\item Sonsoren: Kontext/Technik/Funktionsweise/Messgröße
\end{itemize}


\subsection{Hardware und Anwendungen}
\begin{itemize}
	\item Nanonetze: Vernetzte Nanomaschinen, die jeweils nur eine Aufgabe erledigen (Berechnen/Speichern/Messen/Manipulieren). Anwendung beispielsweise in Biomedizin, Militär oder (Chemie-)Industrie. Kommunikation über E. coli Bakterien oder Pheromone in Wasser
	\item Smart Dust: Sehr viele kleine (dumme) Knoten, die unaufdringlich in die Umwelt integriert werden. Sehr beschränkte Hardware und viele Probleme und offene Fragen (Skalierbarkeit/Netzdichte/Energieversorgung/Entsorgung)
	\item Klassische Sensornetze: Sehr kleine, maßgeschneiderte Systeme für Einzelanwendungen. Selbstoranisierend, geringe Leistungsaufnahme, Batteriebetrieb
	\item Physical und Embedded Computing: Flexible Systeme aus eingebetteter, miniaturisierter Standardhardware. Kostengünstig und energieeffizient. Einsatzbereiche u.a. Steuerungselektronik, Home Automation, Bastlerprojekte
	\item Smart- und Submetering: Zeitnahe Erfassung und Steuerung von Energieverbräuchen. Große Ansammlung von Geräten und Kommunikationsstandards
	\item Smart Home: Hausautomation und -monitoring durch (drahtlose) Sensornetze mit Steuerung wahlweise vor Ort oder über das Internet. Herausforderungen beispielsweise Nutzbarkeit vs. Sicherheit, Zugriffsschutz, Robustheit, Skalierbarkeit. Privacy bisher kaum umgesetzt
	\item Drohnen und Roboter: Mobile Plattform mit Sensoren und Aktoren zur Messung vor Ort. Einsatzbereiche sind kritische/lebensfeindliche/unzugängliche Gebiete sowie Hilfestellung im menschlichen Umfeld
	\item Wearables: Datenverarbeitung unauffällig in Kleidung oder Körpernähe zur Unterstützung in Alltagssituatione. Verwendung neuartiger Benutzerschnittstellen wie Gestenerkennung, Anwendung beispielsweise Life-Logging
	\item Smartphones: Heutige Schnittstelle des Menschen zum IoE. Leistungsfähige Hardware, die leistungsfähige Kommunikationsinfrastruktur voraussetzt
	\item Single-Board Computer: Eingesetzt in Entwicklungs- und Prototypingumgebungen. Anpassbare bzw. vielfältige Betriebssysteme und kostengünstige Herstellungsweise (beispielsweise Raspberry Pi oder BeagleBone)
	\item Industrie 4.0 / Industrial Internet: Breites Spektrum an unterschiedlicher Hardware. Hohe Anforderungen an Zuverlässigkeit, Robustheit, Langlebigkeit
\end{itemize}


\subsection{Geräteanbindung und Datenmodell}
\begin{itemize}
	\item Betriebssysteme und Programmierung: Große Unterschiede zwischen den Geräteklassen. Hardwarenähe/Abstraktionsebenen/Anzahl Anwendungen pro Gerät/Power- und Speichermanagement. Spezielle (angepasste) Betriebssysteme für die Geräteklassen
	\item Cloudanbindung: Trend zur Interation von IoE-Kleinstgeräte in Cloud für Datenhaltung
\end{itemize}



\section{Privatsphäre}

\subsection{Einführung}
\begin{itemize}
	\item Problem: Sensoren können über das Internet angegriffen werden
	\item Beispiel RFID als herausforderung für den Datenschutz: Eindeutige Identifikation jedes Objekts ohne Sichtkontakt möglich. Historie verschiedenster Objekte kann im Vorbeigehen überwacht werden (Kleidungsstücke, Fahrkarten, Inhalt einer Einkaufstasche)
	\item Lösungsansätze: Kill-Befehl, Blocker-Tags, Authentifizierung für Zugriff (z.B. Reisepass), Abreißen der Antenne
	\item Neben den personenbezogenen Daten auch Metadaten schützenswert, da mit ihnen ein Benutzerprofil erstellt werden kann
	\item Säulen der Privatsphäre: Regulierung durch Gesetze; Selbstregulierung durch die Anbieter; Selbstschutz
	\item Allgemeine IT-Schutzziele: Vertraulichkeit, Integrität, Verfügbarkeit (CIA: Confidentiality, Integrity, Availability)
	\item Schutzziele für Privatsphäre: Unverkettbarkeit, Transparen, Intervenierbarkeit
	\item Privacy Enhancing Technologies, Technologie zur Verbesserung des Datenschutzes, beispielsweise in RFID-Systemen\footnote{\url{https://de.wikipedia.org/wiki/PET}}
	\item \textbf{Prozess zum Entwurf und zur Bewertung}
	\begin{enumerate}
		\item Analyse des Systems: Welche Entitäten sind beteiligt und welcher Dienst wird erbracht?
		\item Erstellen von Vertrauensmodell (Wie viel Vertrauen wird dem Anbieter entgegengebracht?) und Angreifermodell (Kategorisierung des Angreifers nach Motivation/Ressourcen/Ziel/etc.)
		\item Entwurf geeigneter PETs
		\item Bewertung der PETs
	\end{enumerate}
\end{itemize}


\subsection{Ansätze zum Schutz der Privatsphäre}
\begin{itemize}
	\item Anwendungsabhängige Anforderungen. Diensterbringung mit dem Prinzip der Datensparsamkeit
	\item Es sollen lediglich Daten erfasst werden, die möglichst wenig privates preisgeben und die nicht mit Nutzern oder untereinander in Verbindung gebracht werden können
	\item Ansätze: Verschleierung von Sampling-Werten (Präzision herabsetzen oder Störwerte einfügen); Vermeidung von zentralen Datensenken (P2P oder lokale Diensterbringung); Verschleierung der Identität der Quelle; Unverkettbarkeit von Samples gewährleisten (Anpassen der Samplerate)
	\item \textbf{Entwurfsstrategien: Schutz der Privatsphäre}
	\begin{itemize}
		\item Datenorientiert
		\begin{itemize}
			\item MINIMISE: Verarbeitung und Erfassung von Daten auf ein Minimum reduzieren
			\item HIDE: Beziehungen zwischen Datensetzen sollen verborgen werden
			\item SEPARATE: Dezentrale Speicherung und Verarbeitung
			\item AGGREGATE: Aggregierte Verarbeitung personenbezogener Daten
		\end{itemize}
		\item Prozessorientiert
		\begin{itemize}
			\item INFORM: Benutzer sollen über die Verarbeitung ihrer Daten informiert werden (Schutzziel: Transparenz)
			\item CONTROL: Benutzer sollen die Kontrolle über die Verarbeitung ihrer personenbezogenen Daten behalten (Schutzziel: Intervenierbarkeit)
			\item ENFORCE: Erstellen und Durchsetzen einer rechtskonformen Datenschutzrichtlinie
			\item DEMINSTRATE: Bei der Verarbeitung personenbezogener Daten muss die Einhaltung der Datenschutzrichtlinie demonstriert werden können
		\end{itemize}
	\end{itemize}
\end{itemize}


\subsection{Was ist anders im Internet of Everything?}
\begin{itemize}
	\item Technologie greift viel stärker in das private Leben ein \(\rightarrow\) Privatsphäre stärker gefährdet als im klassischen Internet
	\item Technische Herausforderungen: Mehr Daten; kontinuierliche Datenerfassung; sensiblere Daten; Vielfalt von gemessenen Größen
	\item Angreifermodell im IoE: Geräte befinden sich häufig an zugänglichen Orten. Diebstahl/Auslesen/Korrumpieren/Zerstören einfacher \(\rightarrow\) Diensterbringung muss auch dann zuverlässig funktionieren, wenn ein Teil der Geräte korrumpiert worden ist
	\item Beispiel Smart-Metering: Informationsbedarf für Stromnetz der Zukunft ist enorm. Schutzbedarf nicht nur vor Outsider sondern auch vor Datensenke \(\rightarrow\) klassische Verschlüsselung bietet keine Lösung
	\item Beispiel Smart-Traffic: Dienstanbieter benötigt Positionsdaten für Liveupdates. Selbst ohne Klarnamen können anonyme IDs - die wenig wechseln - typischen Routen (beispielsweise die Fahrt zum Arbeitsplatz) zugeordnet werden
	\item IBM-Studie "`Device democracy"': Betreiben einer zentralisierten Cloud verursacht hohe Kosten sowie schwer umzusetzende Privatsphäre. Daher in Zukunft dezentrale Umsetzung
	\item Anforderungen an die verteilte IoE-Cloud: Sicherer Nachrichtenaustausch zwischen Geräten ohne zentrale Vertrauensanker (beispielsweise via "`Peet-Tor-Peer-Kommunikation"'); Verteilen der Daten; robuste und skalierbare Koordinaten von Geräten mit Halten eines konsistenten Zustands
\end{itemize}


\subsection{Konkrete Beispiele und Szenarien}
\begin{itemize}
	\item \textbf{Privatheit beim Smart-Metering}
	\begin{itemize}
		\item Ziel: Verbrauch von Energie in Energienetzen oder kundenspezifisch in Echtzeit nachvollziehbar machen. Stromzähler senden hierfür regelmäßig Messdaten über den Internetanschluss des Kunden an den Messdienstleister (MDL)
		\item Gefahr für die Privatsphäre: Periodisches Senden der Messwerte (beispielsweise alle 15 Minuten) liefert ein detailliertes Verbraucherprofil. Heutiges einjähriges Ableseintervall stellt implizierten Privatsphäreschutz dar
		\item Generische Lösungsansätze
		\begin{itemize}
			\item Pseudonymisierung: Aufwendige Pseudonymverwaltung sowie Verknüpfbarkeit mit Nutzer (durch IP-Adresse oder mittels externen Daten wie Urlaube oder Arbeitszeit)
			\item Modifikation des Energiebedarfs durch lokalen Akkumulator. Dazu allerdings teurer, sich abnutzender Akku sowie Ladestrategie erforderlich
		\end{itemize}
		\item Generische Ansätze unzureichend \(\rightarrow\) anwendungsspezifischer Ansatz nötig: Aggregation der Daten. Dadurch lediglich der summierte Verbrauch einer Region sichtbar
		\item Möglichkeiten zur Aggregation
		\begin{itemize}
			\item Über die Zeit mittels verschiedener Tarifregister, einfach realisierbar
			\item Über Haushalte, ohne Kooperation der Stromzähler: Hinzufügen von Rauschwerten, die sich bei der Summenbildung gegenseitig eliminieren. Allerdings unrealistisch viele Teilnehmer für feingranulare Messung notwendig
			\item Über Haushalte, mit kooperierenden Stromzählern: Einzelne Messwerte vor MDL geschützt, Ausfallschutz durch Redundanz, auf ressourcenbeschränkter Hardware realisierbar. Zusätzlich homomorphe Verschlüsselung baumartig verwendbar, wodurch kein Stromzähler den Wert eines anderen erfährt. Kryptografie allerdings ungeeignet fr ressourcenbeschränkte Hardware
		\end{itemize}
		\item Eigene Arbeit \textit{SMART-ER}: Auf SMART basierendes, privatsphäregerechtes Smart Metering Protocol, das die Benutzer in untereinander kooperierende Gruppen einteilt, die ein gemeinsames Aggregat zur Verfügung stellen
	\end{itemize}
	\item \textbf{Privatheit im Smart Traffic}
	\begin{itemize}
		\item Anwendungen: Verkehrssicherheit, Verkehrsoptimierung, Efassen von Wetter/Luftqualität/etc. mittels Sensordaten
		\item Trennung von Positionssamples und Identitäten notwendig. Pseudonymwechsel nötig, um Positionssamples desselben Nutzers nicht leicht zusammengruppieren zu können. Problem: Beobachtbarkeit. Lösung: Zufällige "`Funkstille"' beim Wechsel oder gleichzeitiger Wechsel verschiedener Nutzer in der selben Umgebung (innerhalb "`Mix-Zones"')
		\item Eigene Arbeit \textit{Geocast mit OverDrive}: P2P-Netz zwischen den Fahrzeugen. Keine zentrale Senke, niemand hat die komplette Sicht. Nur direkte Nachbarn erhalten die genaue Position, weit entfernte bekommen verfälschte Daten (bei jedem Hopp werden die Daten leicht verändert)
	\end{itemize}
\end{itemize}



\section{Kommunikation}

\subsection{Medienzugriff}

\subsubsection{Grundlegendes}
\begin{itemize}
	\item Sensorknoten sind häufig batteriebetrieben \(\rightarrow\) Energie ist wichtige aber sehr beschränkte Ressource \(\rightarrow\) Funktransceiver möglichst häufig deaktvieren (Problem: Wann empfangsbereit?)
	\item Betrachtetes Medium: Geteiltes Medium mit relativ hoher Unzuverlässigkeit ohne Duplexbetrieb (i.d.R.)
	\item \textbf{Funkmedium}
	\begin{itemize}
		\item Klassische Probleme gegenüber drahtgebundenen Netzen: Höhe Fehlerraten, niedrigere Datenrate, hohe Verzögerung, geringere Sicherheit
		\item Quadratische Abnahme der Signalausbreitung
		\item CSMA/CD-basierte Verfahren für Medienzuteilung nicht nutzbar, da nur der Empfänger Kollisionen erkennen kann (\textit{Semi-Broadcast-Medium})
		\item Versteckte Endsysteme: 
	\end{itemize}
	\item \textbf{Medienzuteilung}
	\begin{itemize}
		\item Unnötiger Energieverbrauch bei Kollisionen, unnötigem Lauschen sowie Mithören
		\item RTS-CTS-Handshake zur Kollisionsvermeidung (Auftritt während des Handshake unwahrscheinlich, da Pakete sehr klein): Empfänger wird zunächst mit \texttt{RTS} angefragt ob es empfangsbereit ist. Bei naherzu zeitgleichen Anfragen zweier Sender gewinnt der schnellere. Die sendewilligen Systeme warten, bis der Empfänger mittels \texttt{CTS} Empfangsbereitschaft signalisiert
		\item Duty-Cycling zur Reduzierung des Energieverbrauchs: Funktransceiver wird bei Bedarf synchron (erfordert Zeitsynchronisation zwischen den Knoten) oder asynchron (ohne Koordinnation zwischen den Knoten) aktiviert, was zusätzliche Latenz verursacht, da bei Sendewunsch zunächst auf das entsprechende Zeitfenster gewartet werden muss
		\item WLAN im IoE: Verursacht hohen Energiebedarf durch Kollisionen, Idle Listening, Overhearing
		\item Bluetooth im IoE: Langsamer, aufwendiger Verbindungsaufbau; Synchronisation mehrerer Piconetze problematisch
		\item Bluetooth low energy: Hohe Reichweite (150 m) mit geringer Bandbreite (1 Mbit/s). Nur der Master versucht dauerhaft neue Geräte zu finden sowie eingebaute Sicherheitsfunktionalität (AES-128-CCM). Lizenzfreier Betrieb (konventionelles Bluetooth erfordert Zertifizerung im kommerziellen Umfeld) \(\rightarrow\) insgesamt energieeffizienter Betrieb möglich
	\end{itemize}
\end{itemize}

\subsubsection{Medienzugriffsprotokolle}
\begin{itemize}
	\item \textbf{S-MAC (Sensor Media Access Control)}
	\begin{itemize}
		\item Kein akademisch, keine Verbreitung in der Praxis
		\item Zielsetzung: Ernergieeffiziens, Skalierbarkeit, Autokonfiguration
		\item Weniger berücksichtigt: Fairness zwischen den Systemen, Latenz
		\item Idee: Koordiniertes Schlafen zur Vermeidung von idle listening durch zeitliche Synchronisation der Systeme. Einführung eines \textit{S-MAC-Rahmen} mit fester Länge. Während \textit{Listen-Phase} erfolgt die Synchronisation sowie ggf. der Anstoß zum Datenaustauschen. Anschließend \textit{Sleep-Phase} zum Energie sparen oder Daten austauschen
		\item Ablauf aus Sendersicht: Während des ersten Teil der Listen-Phase durch ein SYNC-Paket die Zeitspanne bis zum Beginn der nächsten Sleepphase gesendet. im zweiten Teil der Listen-Phase wird in einem zufälligen Zeitschlitz ein RTS-Signal gesendet. Antwortet der Empfänger mit CTS, so hat der Sender wärend der folgenden Sleep-Phase Zeit, die gewünschten Daten zu senden
		\item \textit{Message Passing} zur fragmentierten Übertragung einer größeren Datenmenge als Burst nach einem einzigen RTS-CTS-Handshake. Jede Dateneinheit wird einzeln bestätigt. Bei einem Bitfehler muss nur die fehlerhafte Einheit neu gesendet werden und nicht die komplette Nachricht (alles während einer einzigen Sleep-Phase)
		\item Erweiterung \textit{Adaptive Listening}: Bisheriges System spart Energie aber vergrößert die Verzögerungen bei Multihop (pro Rahmen kann maximal eine Datenheit weitergereicht werden). Einführung einer zusätzlichen Phase um einen neuen Datenaustausch anzustoßen (Adaptive Listening Phase). Problem: Woher weis es schlafendes System, dass die Datenübertragung abgeschlossen ist?
		\item Leistungsbewertung über Energiebedarf pro Byte; durschnittliche Ende-zu-Ende-Verzögerung sowie Ende-zu-Ende-Goodput (Gesamtmenge durch Gesamtzeit). S-MAC reduziert den Energiebedarf deutlich. Bei hoher Last kann Adaptive Listening den Energiebedarf nochmals halbieren
	\end{itemize}
	\item \textbf{B-MAC}
	\begin{itemize}
		\item Zielsetzung: Energieeffizient durch Kolliosionsvermeidung und effiziente Kanalnutzung; Skalierbarkeit; Toleranz bzgl. Funkbedingungen; einfache Implementierbarkeit
		\item Besonderheiten: Periodisches Prüfen des Kanals statt zeitlicher Synchronisation; keine Fragmentierung großer Nachrichten
		\item \textit{Low Power Listening} (LPL): System schläft meist und erwacht gelegentlich kurzzeitig um Kanal auf Daten zu prüfen. Bleibt nur wach, falls Daten zum Empfang anstehen
		\item \textit{Clear Channel Assessment} (CCA): Prüfe ob Kanal frei ist und übertrage ggf. Präambel und Daten. Präambel muss daher mindestens dem Intervall zwischen zwei Kanalüberprüfungen entsprechen (damit der Empfänger nichts verpasst)
		\item Erweiterung X-MAC: Statt einer großen Präambel werden viele kleine Präambelpakete gesendet mit Quittung für erhaltene Präambel um die Kosten beim Sender weiter zu reduzieren
		\item Kenngrößen zur Leistungsbewertung
		\begin{itemize}
			\item Durschnittlicher Energiebedarf pro Byte: Gesamtenergiebedarf aller Systeme geteilt duech die Anzahl von der Senke empfangenen Bytes
			\item Durschnittliche Ende-zu-Ende Verzögerung: Summe aller Ende-zu-Ende Verzögerungen geteilt durch die Anzahl der Dateneinheiten
			\item Ende-zu-Ende Goodput: Gesamtzahl von der Senke empfangener Bytes geteilt durch die Zeitspanne zwischen Versenden der ersten Datenheit bis zum Empfang der letzten Dateneinheit an der Senke
		\end{itemize}
		\item Leistungsvergleich: S-MAC vs. B-MAC
		\begin{itemize}
			\item Durchsatz: Je weniger Systeme um den Kanal konkurrieren, desto höher ist der Durchsatz. Bei nur einem System hat B-MAX den höheren Durchsatz. Durch CCA erreicht B-MAC das 4,5-fache des S-MAC-Durchsatzes
			\item Energiebedarf und Durchsatz: Mit steigendem Durchsatz wächst der Energieverbauch von S-MAC schneller und ist insgesamt höher
			\item Ende-zu-Ende Verzögerung steigt mit der Anzahl der Hops linear
		\end{itemize}
		\item IEEE 802.15.4 mit B-MAC/X-MAC
		\begin{itemize}
			\item B/X-MAC nicht auf vorhandenen Funkchips implementierbar, da 802.15.4 paketbasiert ist und kein dauerhaftes Präambelsenden erlaubt \(\rightarrow\) wiederholtes Senden einer kurzen Präambel. Beispielsweise in TinyOS-LPL entsprechend umgesetzt
		\end{itemize}
	\end{itemize}
	\item \textbf{IEEE 802.15.4}
	\begin{itemize}
		\item IEEE Standard für Low-Rate WPAN-Anwendungen, der oft von Zigbee und 6LoWPAN genutzt wird
		\item Ziele: Kleine bis mittlere Datenraten, moderate Verzögerung, geringer Energiebedarf sowie geringe Komplexität
		\item Eigenschaften: Frequenzbänder 868/914/2450 MHz; Datenrate von maximal 250 kbit/s; Reichweite 10 m
		\item MAC-Protokoll
		\begin{itemize}
			\item Größe der Datenheit maximal 127 Byte
			\item Kombiniert Zeitplan-basiertes und Konkurrenz-basiertes Verfahren. Realtimefähigkeit durch garantierte Zeitschlitze
			\item Asymmetrisch: Systeme können unterschiedliche Rollen einnehmen
			\item Basiert auf CSMA/CA, das auch bei WLAN verwendet wird
		\end{itemize}
		\item Typen von Netzen: P2P-Netz ("`Mesh-Netzwerk"') oder Stern-Netz
		\item Klassen von Systemen
		\begin{itemize}
			\item \textit{Full Function Device} (FFD)
			\item \textit{Reduced Function Device} (RDF), nur in Stern-Netzen
		\end{itemize}
		\item Betriebsmodi
		\begin{itemize}
			\item Beacon Modus
			\begin{itemize}
				\item Stern-Netz: Systeme sind einem Koordinator zugeordnet und formieren ein \textit{Persona Area Network} (PAN)
				\item Koordinator verwaltet das Netz, bearbeitet Anforderungen für garantierte Zeitschlitze und vermittelt zwischen Systemen und Peer-Koordinatoren. Annahme: Für Koordinator steht unbegrenzte Energie zur Verfügung
				\item Rahmenstruktur
				\begin{enumerate}
					\item Aktive Phase: \textit{Contention Access Period} (CAP) mit konkurrierendem Zugriff auf die Zeitschlitze durch Slotted CSMA/CA. Danach \textit{Guaranteed Time Slots} (GTS). Während der gesamten Phase muss der Koordinator aktiv sein
					\item Inaktive Phase: Alle Systeme können Transceiver ausschalten
				\end{enumerate}
			\end{itemize}
			\item Non-Beacon Modus: Keine feste Rahmenstruktur, Zugriff auf das Medium durch unslotted CSMA/CA (wegen fehlender Zeitsynchronisation keine Zeitschlitze möglich). Bei P2P-Netzen können die Systeme direkt untereinander kommunizieren
		\end{itemize}
	\end{itemize}
\end{itemize}


\subsection{Routing}

\subsubsection{Probabilistische Verfahren}
\begin{itemize}
	\item \textbf{Fluten}
	\begin{itemize}
		\item Knoten sendet jede Dateneinheit per Broadcast an alle Nachbarn. Diese leiten wieder die Dateneinheit wieder per Broadcast an alle Nachbarn weiter
		\item Durchaus häufig im Einsatz, da dezentral/selbstorganisierend und keine Routingtablen erforderlich
		\item Vorteile: Keine Routenfindung/Topologiewartung/Routentabelle erforderlich
		\item Nachteile: Implosion (Versenden duplizierter Dateneinheiten);limitierte Ressourcen nicht beachtet; terminiert nicht; unzuverlässig
		\item Duplikatvermeidung: Sensorknoten leiten neue Dateneinheit nur einmal weiter. Knoten müssen dazu allerdings Zustandshaltung über weitergeleitete Nachrichten betreiben und Nachrichten müssen eindeutig identifizierbar sein, was nicht immer zu erfüllen ist \(\rightarrow\) Einsatz probabilistischer Verfahren
		\item Reichweitenbegrenzung mit maximaler Time-To-Live: Sorgt für weniger Netzbelastung, auch nicht zuverlässig
	\end{itemize}
	\item \textbf{Gossiping}
	\begin{itemize}
		\item Idee: Simulation der Verbreitung von Gerüchten. Die Dateneinheit wird an eine gewisse Anzahl Nachbarknoten weitergeleitet, die sie wieder zufällig an Nachbarknoten weiterleitet
		\item Vorteile: Keine Nachrichtenimplosion, geringerer Overhead als Fluten
		\item Nachteile: Unzuverlässig, eventuell lange Übertragungszeit durch ungünstige Pfadwahl
	\end{itemize}
	\item \textbf{Kombination aus Fluten und Gossiping}
	\begin{itemize}
		\item Idee: Auf den ersten \(k\) Hops fluten, danach Gossiping mit Wahrscheinlichkeit \(p\)
		\item Erfahrungswerte: Ideale Parametrisierung möglich, so dass nahezu alle Knoten erreicht werden
		\item Verbesserung: \(p\) steigt, je näher eine Dateneinheit ihrem Ziel kommt. Voraussetzung ist, dass jeder Knoten die Distanz zum Ziel kennt
	\end{itemize}
\end{itemize}

\subsubsection{Inhaltsbasierte Verfahren}
\begin{itemize}
	\item \textbf{Direct Diffusion}
	\begin{itemize}
		\item Basiert Fluten, ist selbstorganisierend. Unterstützt die Aggregation von Daten
		\item Besonders geeignet bei regelmäßiger Anfrage von Daten. Alle Knoten, welche die Bedingungen der Anfrage erfüllen (beispielsweise Datentyp oder Lokation), antworten
		\item Verfahren
		\begin{enumerate}
			\item Senke äußert Interesse an Daten (Query), dieses wird im Netz geflutet
			\item Aufbau eines Pfads zur Datenquelle: Speicherung der Richtung (Gradient), aus der die Queryy kam. Zu einem Query können mehrere Gradienten existieren
			\item Daten werden auf dem Rückwärtspfad gesendet
		\end{enumerate}
		\item Gradientenverstärkung zur Etablierung eines oder mehreren "`guten"' Wege. Gradienten werden verstärkt wenn eine Senke gefunden wird. Weiterleitung von Datenpaketen erfolgt dann entsprechend des stärksten Gradienten \(\rightarrow\) zunächst redundantes Senden von Daten, danach Reduktion der Pfade durch Gradientenverstärkung
		\item Evaluierung Direct Diffusion vs. Fluten: Direct Diffusion verbraucht deutlich weniger Energie pro Knoten
	\end{itemize}
\end{itemize}

\subsubsection{Lokationsbasierte Verfahren}
\begin{itemize}
	\item \textbf{Rumor Routing}
	\begin{itemize}
		\item Datenzentrischer Ansatz: Initiative geht von Ereignisquelle und -senke aus. Kompromiss zwischen Fluten von Anfragen und Fluten von Ereignissen
		\item \textit{Ereignis-Agenten}
		\begin{itemize}
			\item Etablieren Pfade zu Ereignissen. Anfragen suchen im Netz nach Ereignis-Pfaden
			\item Ereignis-Agenten wandern als langlebige Dateneinheiten (mit maximaler Lebensdauer) durch das Netz, lernen unterwegs selbstständig Information und hinterlassen Pfadinformationen in den Knoten (Vgl. Ameisen in biologischen Systemen)
			\item Pfadwahl durch Random-Walk
		\end{itemize}
		\item Die beteiligten Sensorknoten sammeln Informationen über Nachbarn (beispielsweise durch periodische Hello-Dateneinheiten) und Ereginisse (Ereignistabelle mit zeitlich limitierten Informationen zu Weiterleitungen bei bekannten Ereignissen)
		\item Beispiel
		\begin{itemize}
			\item Knoten A beobachtet Ereignis und sendet zwei Ereignis-Agenten aus, die Routinginformationen zum Ereignis installieren (geben je einen Pfad vor)
			\item Knoten B fragt nach einem Ergebnis und sendet Such-Agenten aus, die mit hoher Wahrscheinlichkeit einen bestehenden Ereihnospfad kreuzen \(\rightarrow\) Pfad zum Ereignis ab jetzt bekannt
		\end{itemize}
		\item Leistungsfähigkeit: Fluten vs. Rumor Routing
		\begin{itemize}
			\item Anfragen fluten: Lohnt sich bei vielen Events und wenigen Anfragen
			\item Events fluten: Gradienten zur Eventquelle aufbauen, dann sind Anfragen mit geringen Kosten möglich
			\item Rumor Routing lohnt sich bei allen Fällen dazwischen 
		\end{itemize}
	\end{itemize}
	\item Motivation lokationsbasierter Verfahren: In vielen Anwendungen sollen Orte/Regionen adressiert werden. Informationen über Position der beteiligten Systeme kann Routing unterstützen (beispielsweise Koordinaten).
	\item \textbf{Distanzbasiertes Greedy-Verfahren}
	\begin{itemize}
		\item Ziel: Übertragung einer Dateneinheit zu einer bekannten Position
		\item Basiert auf der Annahme dass jedes System die eigene Position kennt
		\item Strategie: Weiterleiten der Nachricht an das System in Reichweite, das dem Ziel am nächsten ist
		\item Vorteil: Strategie garantiert schleifenfrei
		\item Nachteile: Topologie bleibt unbeachten (eventuell schlechte Routen); Systeme am Rand der Übertragungsreichweite bevorzugt (eventuell schlechte Verbindungen)
	\end{itemize}
	\item \textbf{Richtungsbasiertes Greedy-Verfahren}
	\begin{itemize}
		\item Idee: Wähle das nächste Zwischenziel möglichst nahe an der idealen Richtung
		\item Metriken: Minimalistischer Abtand zur Verbindungsgerade oder minimaler Winkel zur Verbindungsgerade
		\item Problem: Nicht garantiert schleifenfrei
	\end{itemize}
	\item Generelles Problem bei Greedy-Strategien: Algorithmus kann in Sackgassen stecken bleiben
	\item \textbf{Greedy Perimeter Stateless Routing (GPSR)}
	\begin{itemize}
		\item Benötigt einen planaren Graphen, da drahtlose Regel i.d.R. nicht planar sind müssen sie erst "`planiert"' werden
		\item Idee: Rechte-Hand-Regel anwenden um aus Sackgassen zu entkommen
		\item Weiterleitungs-Modi: Distanzbasiertes Greedy-Routing (kommt dem Ziel schneller näher); Perimetermodus um Sackgassen durch Rechte-Hand-Regel zu entkommen. GPSR startet im Greedy-Modus und wechselt in einer Sackgasse selbstständig in den Perimetermodus. Diese Position wird als Eintrittspunkt in den Permietermodus gespeichert. Sobald das Ziel näher ist als der Eintrittpunkt wird wieder in den Greedy-Modus gewechselt
	\end{itemize}
\end{itemize}

\subsubsection{Distanzvektorbasierte Verfahren: RPL}
\begin{itemize}
	\item \textbf{Anforderungen (aus RFC 6550)}
	\begin{itemize}
		\item Adaptivität: Dynamisches Anpassen der Pfade bei geänderten Umgebungsbedingungen
		\item Constrait-based Routing: Miteinbeziehen von Ransbedingungen wie niedrigem Batteriestand oder schlechter Verbindungsqualität
		\item Unterstützung verschiedener Verkehrsmuster
		\item So wenig wie möglich Konfigurations- und Managementaufwand
	\end{itemize}
	\item Routingprotokoll RPL als IETF-Standard entwickelt
	\item \textbf{Grundlegendes Prinzip}
	\begin{itemize}
		\item Verbindung von Sensor-basierten Zgangsnetzen zum Internet über wenige dedizierte, hierarchisch angeordnete Knoten
		\item Verwendung von Gerichteten Azyklische Graphen (DAG, DODAG): Wurzel ist höchster Knoten in "`up"'-Richtung (Concast) und hält Verbindung zum Internet, "`down"' in entgegengesetzter Richtung (Multicast)
	\end{itemize}
	\item Konstruktion des Graphen: Start bei der Wurzel. Knoten in der Nachbarschaft empfangen Nachricht und entscheiden, ob Beitritt zum Graphen oder nicht (Vgl. Breitensuche). Durch individuelle IDs können alle Knoten innerhalb des Graphen eindeutig identifiziert werden. Knoten können immer nur genau einem Netzwerk beitreten
	\item DODAGS sind versionierbar um auf dynamische Anpassungen im Netz reagieren zu können. Für die Anpassungen ist die Wurzel verantwortlich
	\item \textit{Node Ranks} geben die relative Position eines Knoten im DODAG durch einen skalaren Wert an. Monoton wachsend nach unten, gültig innerhalb einer DODAG-Version
	\item \textit{Objective Function}: Definiert die zu verwendenden Metriken und Constraits zur Berechnung des Node Rank (und damit welche Elternknoten gewählt werden sollen)
	\item Knoten können Informationen für Down-Routing speichern (storing nodes). Im alternativen non-storing Betrieb fügt die Wurzel die Routinginformationen bei. Mischbetrieb ist unzulässig
	\item Sicherheit: Wahlweise \textit{unsecured}, \textit{pre-installed} (vorinstallierte gemeinsame Geheimnisse auf den Knoten zum Versenden gesicherter Nachrichten), \textit{authentifiziert} (Beitritt mit Schlüssel einer Authentication Authority)
	\item \textbf{DODAG-Konstruktion im Detail}
	\begin{enumerate}
		\item Initialisierung durch Wurzel sowie verknüpfen der Knoten untereinander. Wurzel gibt den \texttt{ROOT\_RANK} bekannt (weitere Wurzeln würden den selben Wert benutzen)
		\item Berechnung der Link-Kosten und Node-Ranks
		\item Hierarchische Wahl der/des Elternknoten (Link-Kosten entscheidend)
	\end{enumerate}
\end{itemize}


\subsection{Datentransport}
\begin{itemize}
	\item Besonderheiten: Zuverlässigkeit; beschränkte Ressourcen; oft Echtzeit-Anforderung; keine klassischen Topologien mit Client-Server-Architekturen
\end{itemize}

\subsubsection{Unicast}
\begin{itemize}
	\item Kommunikationsform: Sensoren \(\rightarrow\) Aktoren
	\item Herausforderungen: Zuverlässigkeit, geringe Verzögerung
	\item Anwendungsbeispiele: Hausautomation (Schalter steuert Lichtquelle), Industrie (Überwachungssensor stoppt Produktionsanlage), Autowäsche (Abstandssensor verhindert Beschädigungen am Auto)
	\item \textbf{Zuverlässigkeit}
	\begin{itemize}
		\item Traditioneller Weise TCP als zuverlässiger Transportdienst. Probleme: TCP erkennt die Ursachen für Paketverlust nicht; erfordert ggf. viele Sendewiederholungen (hoher Energiebedarf); 3-Wege-Handshake sehr teuer
		\item Nicht alle Messwerte sind relevant, Ungenauigkeiten können (anwendungsabhängig) toleriert werden (beispielsweise minimale Temperaturschwankungen in einem Raum)
		\item Probabilistische Zuverlässigkeit: Nur ein Teil aller Dateneinheiten erreicht die Senke. Ggf. leidet die Genauigkeit/Aktualität
		\item Prop-Hop Quittungen: Quittungen/Sendewiederholungen pro Hop. Energieverbrauch wird gleichmäßig im Netz verteilt
		\item Ende-zu-Ende Quittungen: Nur ursprünglicher Sender wiederholt die Dateneinheit. Bei geringen Bitfehlern besser geeignet
	\end{itemize}
	\item \textbf{Hop-by-Hop Reliabilty (HHR)}
	\begin{itemize}
		\item Zielsetzung: Erhöhe Zuverlässigkeit ohne Quittungen durch \(k\)-maliges Senden
		\item HHR mit Acknoledgements (HHRA): Wiederholtes Senden bis \(k\) erreicht ist oder die erste Quittung den Sender erreicht
		\item Evaluierung: Pro-Hio Quittungen lohnen sich erst bei hohen Paketfehlerraten
		\item HRR vs. HRRA
		\begin{itemize}
			\item HRR
			\begin{itemize}
				\item Vorteile Einsparen von Übertragungen durch Verzicht auf Quittungen bei niedrigen Paketfehlerraten
				\item Paketwiederholung stoppt nicht, wenn Dateneinheit erfolgreich übertragen worden ist
			\end{itemize}
			\item HRRA
			\begin{itemize}
				\item Vorteil: Bei hohen Paketfehlerraten wird auf weiteres Senden nach erfolgreichem Erhalt einer Quittung verzichtet
				\item Nachteil: Großer Overhead bei geringer Paketfehlerquote \(\rightarrow\) lohnt dann nicht
			\end{itemize}
		\end{itemize}
	\end{itemize}
\end{itemize}

\subsubsection{Multicast}
\begin{itemize}
	\item Kommunikationsform: Senke \(rightarrow\) Sensoren/Aktoren
	\item Herausforderungen: Zuverlässigkeit
	\item Typische Daten: Kontroll-/Steuerungsaufgaben; Code-Updates
	\item \textbf{Pump Slowly Fetch Quickly (PSFQ)}
	\begin{itemize}
		\item Ziel: Transportieren von Daten von einer Basisstation zu mehreren Sensoren/Aktoren
		\item Vorgehen: Basisstation pumpt Dateneinheiten ins Sensornetz (mit einer Pause nach dem Versand zweier Dateneinheiten). Systeme leiten nur weiter ("`pumpen"'), falls es eine neue Dateneinheit ist (Identifikation mittels fortlaufender Sequenznummer) und keine Einheit dazwischen fehlt. Fehlende Dateneinheiten können per \texttt{Fetch} explizit angefordert werden oder per \texttt{NACK} dem Sender gemeldet werden
		\item Evaluierung/Beobcahtungwen
		\begin{itemize}
			\item Je größer die Distanz zur Quelle desto niedriger die Zustellrate (Prozentsatz der angekommenen Dateneinheiten an den Gesamteinheiten)
			\item Je höher die Paketfehlerrate desto niedriger die Zustellrate
			\item Keine Zustellgarantie
		\end{itemize}
	\end{itemize}
\end{itemize}

\subsubsection{Concast}
\begin{itemize}
	\item Kommunikationsform: Sensoren \(\rightarrow\) Senke
	\item Herausforderungen: Zuverlässigkeit, Staukvermeidung und Energieeffiziens
	\item Anwendungsbeispiel: Sensor beantwortet Anfrage mit Messdaten
	\item Stau: Datenströme können zu Stau/Überlastung führen. Dabei kann es zu Datenverlust (Gegenmaßnahe: Erneutes Senden) kommen oder Daten kommen verzögert an (Gegenmaßnahme: Weniger Daten senden)
	\item \textbf{Event-to-Sink Reliable Transport (ESRT)}
	\begin{itemize}
		\item Szenario: Viele Sensoren senden periodisch Dateneinheiten zur Senke, welche eine ausreichende Anzahl Dateneinheiten (egal von welchem Sensor) benötigt
		\item Ziel: Bestimmen der benötigten Senderate im nächsten Zeitschritt auf Basis der aktuellen Senderate und der aktuellen Zustellrate
		\item Ein Stau wird erkannt, wenn weniger Daten als gewünscht die Senke erreichen (Schwelle festgelegt vom Benutzer)
	\end{itemize}
	\item \textbf{Aggregation}
	\begin{itemize}
		\item Ziel: Zusammenfassen von Daten um weniger Dateneinheiten zu verschicken
		\item Aggregationsformen
		\begin{itemize}
			\item Keine Aggregation: Eingehende Daten werden direkt Weitergeleitet
			\item Paketaggregation: Eingehende Daten werden zwischengespeichert und zusammen in einem großen Paket weitergeleitet
			\item Datenaggregation: Eingehende Daten werden zwischengespeichert und mit Aggregatsfunktion zusammengefasst und weitergeleitet
		\end{itemize}
		\item Evaluations-Metrik: Anzahl Messwerte, welche die Datensenke erreichen (MRS)
		\begin{itemize}
			\item Ergebnisse mit TinyOS LPL: Unterschiede durch Aggregation minimal da LPL die Knoten lokal synchronisiert. Kein unmittelbarer Zusammenhang zwischen Energiebedarf und Anzhl Datenpakete/-volumen
			\item Ergebnisse mit S-MAC: Aggregation erhöht MRS, da der Durchsatz mit S-MAC bei kleinem Duty-Cycle gering ist. Aggregation reduziert die Azahl der Übertragungen
		\end{itemize}
		\item Fazit
		\begin{itemize}
			\item Ergebnis stark abhängig vom MAC-Protokoll
			\item Kein signifikanter Unterschied zwischen Daten- und Paketaggregation. Paketaggregation ist daher vorzuziehen, da so alle Messwerte bei der Senke ankommen und nicht nur das Aggregat
			\item Datenvolumen hat hier keinen großen Einfluss auf Energiebedarf
		\end{itemize}
	\end{itemize}
\end{itemize}


\subsection{Topologiekontrolle}
\begin{itemize}
	\item "`Topologie"' beschreibt den Aufbau von Verbindungen zwischen Systemen. Ein dichtes Netz führt zu komplexer Topologie (Anzahl der Nachbarn als Dichtemaß)
	\item Im Folgenden Möglichkeiten zur Kontrolle
	\item \textbf{Flache Netze mit gleichberechtigten Systemen}
	\begin{itemize}
		\item Sendeleistung regulieren: Sendeleistung und Zahl der direkten Nachbarn hängen unmittelbar zusammen. Ideale Sendeleistung als Tradeoff zwischen Energiesparen und Qualität der Konnektivität. Ziel: Bestimmen der Minimalen maximalen Sendeleistung (MMS)
		\item Zahl der der Nachbarn regulieren
	\end{itemize}
	\item \textbf{Hierarchische Netze (Systeme haben unterschiedliche Fähigkeiten/Aufgaben)}
	\begin{itemize}
		\item Backbone-Netz: Einteilung des Netzes in Klassen (entsprechend ihrer Lokalität) mit Backbones. Zwischnen den Klassen dürfen nur Backbones kommunizieren, diese bilden ein \textit{dominating set}
		\item Cluster-Netze
		\begin{itemize}
			\item Aufteilung der Sensoren in Gruppen (Cluster), so dass jedes Sstem in genau einer Gruppe ist. \textit{Cluster-Heads} bilden Vertreter ihrer Gruppe, wobei keine zwei Cluster-Heads direkte Nachbarn sein dürfen. Gesucht ist die maximale unabhängige Menge
			\item Bestimmung der Gateways: Nach der Bestimmung der Cluster-Heads werden diese untereinander verbunden. Jeder Cluster-Head benötigt eine Vebrindung zu allen anderen Cluster-Heads, die maximal drei Schritte entfernt sind
			\item Low-Energy Cluster Hierarchy (LEACH)
			\begin{itemize}
				\item Idee: Regelmäßiges Rotieren der höher belasteten Cluster-Heads zur Umverteilung der Last \(\rightarrow\) gleimäßige Verteilung des Energieverbrauchs
			\end{itemize}
			\item Vorgehen: Knoten bestimmen sich selbstständig mit bestimmter Wahrscheinlichkeit zu einem Cluster-Head und teilen dies den benachbarten Knoten mit (rundenbasiert). Alle anderen Knoten ordnen sich dem nächsten, neuen Cluster-Head in Reichweite zu
			\item Mögliche Verbesserung: Clusterwahl nicht rein probabilistisch sondern basierend auf Restenergie der Knoten
		\end{itemize}
	\end{itemize}
\end{itemize}


\subsection{Internet of Things}



\section{Sicherheit}